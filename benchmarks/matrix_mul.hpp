#include"ufhe/ufhe.hpp"
#include<vector>
#include<unordered_map>
ufhe::EncryptionContext create_context(){
ufhe::EncryptionParams params(ufhe::scheme_type::bfv);
params.set_poly_modulus_degree(4096);
params.set_coeff_modulus(ufhe::CoeffModulus::BFVDefault(4096,ufhe::sec_level_type::tc128));
params.set_plain_modulus(786433);
ufhe::EncryptionContext context(params);
return context;
}
void matrix_mul(std::unordered_map<std::string, ufhe::Ciphertext>& encrypted_inputs, std::unordered_map<std::string, ufhe::Plaintext>& encoded_inputs, std::unordered_map<std::string, ufhe::Ciphertext>& encrypted_outputs, std::unordered_map<std::string, ufhe::Plaintext>& encoded_outputs, const ufhe::EncryptionContext& context, const ufhe::RelinKeys& relin_keys, const ufhe::GaloisKeys& galois_keys, const ufhe::PublicKey& public_key)
{
ufhe::BatchEncoder encoder(context);
std::vector<int64_t> plaintext22_clear = {1,0,0,0};
ufhe::Plaintext plaintext22;
encoder.encode(plaintext22_clear,plaintext22);
std::vector<int64_t> plaintext7_clear = {9,2,0,18};
ufhe::Plaintext plaintext7;
encoder.encode(plaintext7_clear,plaintext7);
ufhe::Encryptor encryptor(context,public_key);
ufhe::Ciphertext ciphertext22;
encryptor.encrypt(plaintext7,ciphertext22);
ufhe::Ciphertext ciphertext23 = ciphertext22;
std::vector<int64_t> plaintext4_clear = {5,3,2,0};
ufhe::Plaintext plaintext4;
encoder.encode(plaintext4_clear,plaintext4);
ufhe::Ciphertext ciphertext11;
encryptor.encrypt(plaintext4,ciphertext11);
ufhe::Ciphertext ciphertext12 = ciphertext11;
ufhe::Evaluator evaluator(context);
ufhe::Ciphertext ciphertext423;
evaluator.multiply(ciphertext12,ciphertext23,ciphertext423);
evaluator.relinearize_inplace(ciphertext423,relin_keys);ufhe::Ciphertext ciphertext425 = ciphertext423;
evaluator.rotate_rows_inplace(ciphertext425,1, galois_keys);ufhe::Ciphertext ciphertext429 = ciphertext425;
evaluator.rotate_rows_inplace(ciphertext429,1, galois_keys);ufhe::Ciphertext ciphertext433 = ciphertext429;
evaluator.rotate_rows_inplace(ciphertext433,1, galois_keys);ufhe::Ciphertext ciphertext438 = ciphertext433;
evaluator.rotate_rows_inplace(ciphertext438,1, galois_keys);ufhe::Ciphertext ciphertext426 = ciphertext423;
evaluator.add_inplace(ciphertext426,ciphertext425);evaluator.add_inplace(ciphertext426,ciphertext429);evaluator.add_inplace(ciphertext426,ciphertext433);evaluator.add_inplace(ciphertext426,ciphertext438);evaluator.multiply_plain_inplace(ciphertext426,plaintext22);evaluator.rotate_rows_inplace(ciphertext426,-2, galois_keys);ufhe::Ciphertext ciphertext448 = ciphertext426;
std::vector<int64_t> plaintext21_clear = {1,0,0,0};
ufhe::Plaintext plaintext21;
encoder.encode(plaintext21_clear,plaintext21);
std::vector<int64_t> plaintext6_clear = {1,-10,9,2};
ufhe::Plaintext plaintext6;
encoder.encode(plaintext6_clear,plaintext6);
ufhe::Ciphertext ciphertext19;
encryptor.encrypt(plaintext6,ciphertext19);
ufhe::Ciphertext ciphertext25 = ciphertext19;
ufhe::Ciphertext ciphertext396;
evaluator.multiply(ciphertext12,ciphertext25,ciphertext396);
evaluator.relinearize_inplace(ciphertext396,relin_keys);ufhe::Ciphertext ciphertext398 = ciphertext396;
evaluator.rotate_rows_inplace(ciphertext398,1, galois_keys);ufhe::Ciphertext ciphertext402 = ciphertext398;
evaluator.rotate_rows_inplace(ciphertext402,1, galois_keys);ufhe::Ciphertext ciphertext406 = ciphertext402;
evaluator.rotate_rows_inplace(ciphertext406,1, galois_keys);ufhe::Ciphertext ciphertext411 = ciphertext406;
evaluator.rotate_rows_inplace(ciphertext411,1, galois_keys);ufhe::Ciphertext ciphertext399 = ciphertext396;
evaluator.add_inplace(ciphertext399,ciphertext398);evaluator.add_inplace(ciphertext399,ciphertext402);evaluator.add_inplace(ciphertext399,ciphertext406);evaluator.add_inplace(ciphertext399,ciphertext411);evaluator.multiply_plain_inplace(ciphertext399,plaintext21);evaluator.rotate_rows_inplace(ciphertext399,-1, galois_keys);ufhe::Ciphertext ciphertext450 = ciphertext399;
std::vector<int64_t> plaintext20_clear = {1,0,0,0};
ufhe::Plaintext plaintext20;
encoder.encode(plaintext20_clear,plaintext20);
std::vector<int64_t> plaintext5_clear = {0,-7,1,-8};
ufhe::Plaintext plaintext5;
encoder.encode(plaintext5_clear,plaintext5);
ufhe::Ciphertext ciphertext17;
encryptor.encrypt(plaintext5,ciphertext17);
ufhe::Ciphertext ciphertext24 = ciphertext17;
evaluator.multiply_inplace(ciphertext12,ciphertext24);evaluator.relinearize_inplace(ciphertext12,relin_keys);ufhe::Ciphertext ciphertext372 = ciphertext12;
evaluator.rotate_rows_inplace(ciphertext372,1, galois_keys);ufhe::Ciphertext ciphertext376 = ciphertext372;
evaluator.rotate_rows_inplace(ciphertext376,1, galois_keys);ufhe::Ciphertext ciphertext380 = ciphertext376;
evaluator.rotate_rows_inplace(ciphertext380,1, galois_keys);ufhe::Ciphertext ciphertext385 = ciphertext380;
evaluator.rotate_rows_inplace(ciphertext385,1, galois_keys);ufhe::Ciphertext ciphertext373 = ciphertext12;
evaluator.add_inplace(ciphertext373,ciphertext372);evaluator.add_inplace(ciphertext373,ciphertext376);evaluator.add_inplace(ciphertext373,ciphertext380);evaluator.add_inplace(ciphertext373,ciphertext385);evaluator.multiply_plain_inplace(ciphertext373,plaintext20);evaluator.rotate_rows_inplace(ciphertext373,0, galois_keys);ufhe::Ciphertext ciphertext451 = ciphertext373;
evaluator.add_inplace(ciphertext451,ciphertext450);evaluator.add_inplace(ciphertext451,ciphertext448);ufhe::Ciphertext output4 = ciphertext451;
std::vector<int64_t> plaintext19_clear = {1,0,0,0};
ufhe::Plaintext plaintext19;
encoder.encode(plaintext19_clear,plaintext19);
std::vector<int64_t> plaintext3_clear = {5,3,2,0};
ufhe::Plaintext plaintext3;
encoder.encode(plaintext3_clear,plaintext3);
ufhe::Ciphertext ciphertext9;
encryptor.encrypt(plaintext3,ciphertext9);
ufhe::Ciphertext ciphertext16 = ciphertext9;
ufhe::Ciphertext ciphertext337;
evaluator.multiply(ciphertext16,ciphertext23,ciphertext337);
evaluator.relinearize_inplace(ciphertext337,relin_keys);ufhe::Ciphertext ciphertext339 = ciphertext337;
evaluator.rotate_rows_inplace(ciphertext339,1, galois_keys);ufhe::Ciphertext ciphertext343 = ciphertext339;
evaluator.rotate_rows_inplace(ciphertext343,1, galois_keys);ufhe::Ciphertext ciphertext347 = ciphertext343;
evaluator.rotate_rows_inplace(ciphertext347,1, galois_keys);ufhe::Ciphertext ciphertext352 = ciphertext347;
evaluator.rotate_rows_inplace(ciphertext352,1, galois_keys);ufhe::Ciphertext ciphertext340 = ciphertext337;
evaluator.add_inplace(ciphertext340,ciphertext339);evaluator.add_inplace(ciphertext340,ciphertext343);evaluator.add_inplace(ciphertext340,ciphertext347);evaluator.add_inplace(ciphertext340,ciphertext352);evaluator.multiply_plain_inplace(ciphertext340,plaintext19);evaluator.rotate_rows_inplace(ciphertext340,-2, galois_keys);ufhe::Ciphertext ciphertext362 = ciphertext340;
std::vector<int64_t> plaintext18_clear = {1,0,0,0};
ufhe::Plaintext plaintext18;
encoder.encode(plaintext18_clear,plaintext18);
ufhe::Ciphertext ciphertext310;
evaluator.multiply(ciphertext16,ciphertext25,ciphertext310);
evaluator.relinearize_inplace(ciphertext310,relin_keys);ufhe::Ciphertext ciphertext312 = ciphertext310;
evaluator.rotate_rows_inplace(ciphertext312,1, galois_keys);ufhe::Ciphertext ciphertext316 = ciphertext312;
evaluator.rotate_rows_inplace(ciphertext316,1, galois_keys);ufhe::Ciphertext ciphertext320 = ciphertext316;
evaluator.rotate_rows_inplace(ciphertext320,1, galois_keys);ufhe::Ciphertext ciphertext325 = ciphertext320;
evaluator.rotate_rows_inplace(ciphertext325,1, galois_keys);ufhe::Ciphertext ciphertext313 = ciphertext310;
evaluator.add_inplace(ciphertext313,ciphertext312);evaluator.add_inplace(ciphertext313,ciphertext316);evaluator.add_inplace(ciphertext313,ciphertext320);evaluator.add_inplace(ciphertext313,ciphertext325);evaluator.multiply_plain_inplace(ciphertext313,plaintext18);evaluator.rotate_rows_inplace(ciphertext313,-1, galois_keys);ufhe::Ciphertext ciphertext364 = ciphertext313;
std::vector<int64_t> plaintext17_clear = {1,0,0,0};
ufhe::Plaintext plaintext17;
encoder.encode(plaintext17_clear,plaintext17);
evaluator.multiply_inplace(ciphertext16,ciphertext24);evaluator.relinearize_inplace(ciphertext16,relin_keys);ufhe::Ciphertext ciphertext286 = ciphertext16;
evaluator.rotate_rows_inplace(ciphertext286,1, galois_keys);ufhe::Ciphertext ciphertext290 = ciphertext286;
evaluator.rotate_rows_inplace(ciphertext290,1, galois_keys);ufhe::Ciphertext ciphertext294 = ciphertext290;
evaluator.rotate_rows_inplace(ciphertext294,1, galois_keys);ufhe::Ciphertext ciphertext299 = ciphertext294;
evaluator.rotate_rows_inplace(ciphertext299,1, galois_keys);ufhe::Ciphertext ciphertext287 = ciphertext16;
evaluator.add_inplace(ciphertext287,ciphertext286);evaluator.add_inplace(ciphertext287,ciphertext290);evaluator.add_inplace(ciphertext287,ciphertext294);evaluator.add_inplace(ciphertext287,ciphertext299);evaluator.multiply_plain_inplace(ciphertext287,plaintext17);evaluator.rotate_rows_inplace(ciphertext287,0, galois_keys);ufhe::Ciphertext ciphertext365 = ciphertext287;
evaluator.add_inplace(ciphertext365,ciphertext364);evaluator.add_inplace(ciphertext365,ciphertext362);ufhe::Ciphertext output3 = ciphertext365;
std::vector<int64_t> plaintext16_clear = {1,0,0,0};
ufhe::Plaintext plaintext16;
encoder.encode(plaintext16_clear,plaintext16);
std::vector<int64_t> plaintext2_clear = {1,0,1,-3};
ufhe::Plaintext plaintext2;
encoder.encode(plaintext2_clear,plaintext2);
ufhe::Ciphertext ciphertext5;
encryptor.encrypt(plaintext2,ciphertext5);
ufhe::Ciphertext ciphertext15 = ciphertext5;
ufhe::Ciphertext ciphertext251;
evaluator.multiply(ciphertext15,ciphertext23,ciphertext251);
evaluator.relinearize_inplace(ciphertext251,relin_keys);ufhe::Ciphertext ciphertext253 = ciphertext251;
evaluator.rotate_rows_inplace(ciphertext253,1, galois_keys);ufhe::Ciphertext ciphertext257 = ciphertext253;
evaluator.rotate_rows_inplace(ciphertext257,1, galois_keys);ufhe::Ciphertext ciphertext261 = ciphertext257;
evaluator.rotate_rows_inplace(ciphertext261,1, galois_keys);ufhe::Ciphertext ciphertext266 = ciphertext261;
evaluator.rotate_rows_inplace(ciphertext266,1, galois_keys);ufhe::Ciphertext ciphertext254 = ciphertext251;
evaluator.add_inplace(ciphertext254,ciphertext253);evaluator.add_inplace(ciphertext254,ciphertext257);evaluator.add_inplace(ciphertext254,ciphertext261);evaluator.add_inplace(ciphertext254,ciphertext266);evaluator.multiply_plain_inplace(ciphertext254,plaintext16);evaluator.rotate_rows_inplace(ciphertext254,-2, galois_keys);ufhe::Ciphertext ciphertext276 = ciphertext254;
std::vector<int64_t> plaintext15_clear = {1,0,0,0};
ufhe::Plaintext plaintext15;
encoder.encode(plaintext15_clear,plaintext15);
ufhe::Ciphertext ciphertext224;
evaluator.multiply(ciphertext15,ciphertext25,ciphertext224);
evaluator.relinearize_inplace(ciphertext224,relin_keys);ufhe::Ciphertext ciphertext226 = ciphertext224;
evaluator.rotate_rows_inplace(ciphertext226,1, galois_keys);ufhe::Ciphertext ciphertext230 = ciphertext226;
evaluator.rotate_rows_inplace(ciphertext230,1, galois_keys);ufhe::Ciphertext ciphertext234 = ciphertext230;
evaluator.rotate_rows_inplace(ciphertext234,1, galois_keys);ufhe::Ciphertext ciphertext239 = ciphertext234;
evaluator.rotate_rows_inplace(ciphertext239,1, galois_keys);ufhe::Ciphertext ciphertext227 = ciphertext224;
evaluator.add_inplace(ciphertext227,ciphertext226);evaluator.add_inplace(ciphertext227,ciphertext230);evaluator.add_inplace(ciphertext227,ciphertext234);evaluator.add_inplace(ciphertext227,ciphertext239);evaluator.multiply_plain_inplace(ciphertext227,plaintext15);evaluator.rotate_rows_inplace(ciphertext227,-1, galois_keys);ufhe::Ciphertext ciphertext278 = ciphertext227;
std::vector<int64_t> plaintext14_clear = {1,0,0,0};
ufhe::Plaintext plaintext14;
encoder.encode(plaintext14_clear,plaintext14);
evaluator.multiply_inplace(ciphertext15,ciphertext24);evaluator.relinearize_inplace(ciphertext15,relin_keys);ufhe::Ciphertext ciphertext200 = ciphertext15;
evaluator.rotate_rows_inplace(ciphertext200,1, galois_keys);ufhe::Ciphertext ciphertext204 = ciphertext200;
evaluator.rotate_rows_inplace(ciphertext204,1, galois_keys);ufhe::Ciphertext ciphertext208 = ciphertext204;
evaluator.rotate_rows_inplace(ciphertext208,1, galois_keys);ufhe::Ciphertext ciphertext213 = ciphertext208;
evaluator.rotate_rows_inplace(ciphertext213,1, galois_keys);ufhe::Ciphertext ciphertext201 = ciphertext15;
evaluator.add_inplace(ciphertext201,ciphertext200);evaluator.add_inplace(ciphertext201,ciphertext204);evaluator.add_inplace(ciphertext201,ciphertext208);evaluator.add_inplace(ciphertext201,ciphertext213);evaluator.multiply_plain_inplace(ciphertext201,plaintext14);evaluator.rotate_rows_inplace(ciphertext201,0, galois_keys);ufhe::Ciphertext ciphertext279 = ciphertext201;
evaluator.add_inplace(ciphertext279,ciphertext278);evaluator.add_inplace(ciphertext279,ciphertext276);ufhe::Ciphertext output2 = ciphertext279;
std::vector<int64_t> plaintext13_clear = {1,0,0,0};
ufhe::Plaintext plaintext13;
encoder.encode(plaintext13_clear,plaintext13);
std::vector<int64_t> plaintext1_clear = {-5,3,2,0};
ufhe::Plaintext plaintext1;
encoder.encode(plaintext1_clear,plaintext1);
ufhe::Ciphertext ciphertext2;
encryptor.encrypt(plaintext1,ciphertext2);
ufhe::Ciphertext ciphertext14 = ciphertext2;
ufhe::Ciphertext ciphertext165;
evaluator.multiply(ciphertext23,ciphertext14,ciphertext165);
evaluator.relinearize_inplace(ciphertext165,relin_keys);ufhe::Ciphertext ciphertext167 = ciphertext165;
evaluator.rotate_rows_inplace(ciphertext167,1, galois_keys);ufhe::Ciphertext ciphertext171 = ciphertext167;
evaluator.rotate_rows_inplace(ciphertext171,1, galois_keys);ufhe::Ciphertext ciphertext175 = ciphertext171;
evaluator.rotate_rows_inplace(ciphertext175,1, galois_keys);ufhe::Ciphertext ciphertext180 = ciphertext175;
evaluator.rotate_rows_inplace(ciphertext180,1, galois_keys);ufhe::Ciphertext ciphertext168 = ciphertext165;
evaluator.add_inplace(ciphertext168,ciphertext167);evaluator.add_inplace(ciphertext168,ciphertext171);evaluator.add_inplace(ciphertext168,ciphertext175);evaluator.add_inplace(ciphertext168,ciphertext180);evaluator.multiply_plain_inplace(ciphertext168,plaintext13);evaluator.rotate_rows_inplace(ciphertext168,-2, galois_keys);ufhe::Ciphertext ciphertext190 = ciphertext168;
std::vector<int64_t> plaintext12_clear = {1,0,0,0};
ufhe::Plaintext plaintext12;
encoder.encode(plaintext12_clear,plaintext12);
ufhe::Ciphertext ciphertext138;
evaluator.multiply(ciphertext14,ciphertext25,ciphertext138);
evaluator.relinearize_inplace(ciphertext138,relin_keys);ufhe::Ciphertext ciphertext140 = ciphertext138;
evaluator.rotate_rows_inplace(ciphertext140,1, galois_keys);ufhe::Ciphertext ciphertext144 = ciphertext140;
evaluator.rotate_rows_inplace(ciphertext144,1, galois_keys);ufhe::Ciphertext ciphertext148 = ciphertext144;
evaluator.rotate_rows_inplace(ciphertext148,1, galois_keys);ufhe::Ciphertext ciphertext153 = ciphertext148;
evaluator.rotate_rows_inplace(ciphertext153,1, galois_keys);ufhe::Ciphertext ciphertext141 = ciphertext138;
evaluator.add_inplace(ciphertext141,ciphertext140);evaluator.add_inplace(ciphertext141,ciphertext144);evaluator.add_inplace(ciphertext141,ciphertext148);evaluator.add_inplace(ciphertext141,ciphertext153);evaluator.multiply_plain_inplace(ciphertext141,plaintext12);evaluator.rotate_rows_inplace(ciphertext141,-1, galois_keys);ufhe::Ciphertext ciphertext192 = ciphertext141;
std::vector<int64_t> plaintext11_clear = {1,0,0,0};
ufhe::Plaintext plaintext11;
encoder.encode(plaintext11_clear,plaintext11);
evaluator.multiply_inplace(ciphertext14,ciphertext24);evaluator.relinearize_inplace(ciphertext14,relin_keys);ufhe::Ciphertext ciphertext114 = ciphertext14;
evaluator.rotate_rows_inplace(ciphertext114,1, galois_keys);ufhe::Ciphertext ciphertext118 = ciphertext114;
evaluator.rotate_rows_inplace(ciphertext118,1, galois_keys);ufhe::Ciphertext ciphertext122 = ciphertext118;
evaluator.rotate_rows_inplace(ciphertext122,1, galois_keys);ufhe::Ciphertext ciphertext127 = ciphertext122;
evaluator.rotate_rows_inplace(ciphertext127,1, galois_keys);ufhe::Ciphertext ciphertext115 = ciphertext14;
evaluator.add_inplace(ciphertext115,ciphertext114);evaluator.add_inplace(ciphertext115,ciphertext118);evaluator.add_inplace(ciphertext115,ciphertext122);evaluator.add_inplace(ciphertext115,ciphertext127);evaluator.multiply_plain_inplace(ciphertext115,plaintext11);evaluator.rotate_rows_inplace(ciphertext115,0, galois_keys);ufhe::Ciphertext ciphertext193 = ciphertext115;
evaluator.add_inplace(ciphertext193,ciphertext192);evaluator.add_inplace(ciphertext193,ciphertext190);ufhe::Ciphertext output1 = ciphertext193;
std::vector<int64_t> plaintext10_clear = {1,0,0,0};
ufhe::Plaintext plaintext10;
encoder.encode(plaintext10_clear,plaintext10);
std::vector<int64_t> plaintext0_clear = {1,2,3,-2};
ufhe::Plaintext plaintext0;
encoder.encode(plaintext0_clear,plaintext0);
ufhe::Ciphertext ciphertext0;
encryptor.encrypt(plaintext0,ciphertext0);
ufhe::Ciphertext ciphertext13 = ciphertext0;
evaluator.multiply_inplace(ciphertext23,ciphertext13);evaluator.relinearize_inplace(ciphertext23,relin_keys);ufhe::Ciphertext ciphertext81 = ciphertext23;
evaluator.rotate_rows_inplace(ciphertext81,1, galois_keys);ufhe::Ciphertext ciphertext85 = ciphertext81;
evaluator.rotate_rows_inplace(ciphertext85,1, galois_keys);ufhe::Ciphertext ciphertext89 = ciphertext85;
evaluator.rotate_rows_inplace(ciphertext89,1, galois_keys);ufhe::Ciphertext ciphertext94 = ciphertext89;
evaluator.rotate_rows_inplace(ciphertext94,1, galois_keys);ufhe::Ciphertext ciphertext82 = ciphertext23;
evaluator.add_inplace(ciphertext82,ciphertext81);evaluator.add_inplace(ciphertext82,ciphertext85);evaluator.add_inplace(ciphertext82,ciphertext89);evaluator.add_inplace(ciphertext82,ciphertext94);evaluator.multiply_plain_inplace(ciphertext82,plaintext10);evaluator.rotate_rows_inplace(ciphertext82,-2, galois_keys);ufhe::Ciphertext ciphertext104 = ciphertext82;
std::vector<int64_t> plaintext9_clear = {1,0,0,0};
ufhe::Plaintext plaintext9;
encoder.encode(plaintext9_clear,plaintext9);
evaluator.multiply_inplace(ciphertext25,ciphertext13);evaluator.relinearize_inplace(ciphertext25,relin_keys);ufhe::Ciphertext ciphertext54 = ciphertext25;
evaluator.rotate_rows_inplace(ciphertext54,1, galois_keys);ufhe::Ciphertext ciphertext58 = ciphertext54;
evaluator.rotate_rows_inplace(ciphertext58,1, galois_keys);ufhe::Ciphertext ciphertext62 = ciphertext58;
evaluator.rotate_rows_inplace(ciphertext62,1, galois_keys);ufhe::Ciphertext ciphertext67 = ciphertext62;
evaluator.rotate_rows_inplace(ciphertext67,1, galois_keys);ufhe::Ciphertext ciphertext55 = ciphertext25;
evaluator.add_inplace(ciphertext55,ciphertext54);evaluator.add_inplace(ciphertext55,ciphertext58);evaluator.add_inplace(ciphertext55,ciphertext62);evaluator.add_inplace(ciphertext55,ciphertext67);evaluator.multiply_plain_inplace(ciphertext55,plaintext9);evaluator.rotate_rows_inplace(ciphertext55,-1, galois_keys);ufhe::Ciphertext ciphertext106 = ciphertext55;
std::vector<int64_t> plaintext8_clear = {1,0,0,0};
ufhe::Plaintext plaintext8;
encoder.encode(plaintext8_clear,plaintext8);
evaluator.multiply_inplace(ciphertext13,ciphertext24);evaluator.relinearize_inplace(ciphertext13,relin_keys);ufhe::Ciphertext ciphertext28 = ciphertext13;
evaluator.rotate_rows_inplace(ciphertext28,1, galois_keys);ufhe::Ciphertext ciphertext32 = ciphertext28;
evaluator.rotate_rows_inplace(ciphertext32,1, galois_keys);ufhe::Ciphertext ciphertext36 = ciphertext32;
evaluator.rotate_rows_inplace(ciphertext36,1, galois_keys);ufhe::Ciphertext ciphertext41 = ciphertext36;
evaluator.rotate_rows_inplace(ciphertext41,1, galois_keys);ufhe::Ciphertext ciphertext29 = ciphertext13;
evaluator.add_inplace(ciphertext29,ciphertext28);evaluator.add_inplace(ciphertext29,ciphertext32);evaluator.add_inplace(ciphertext29,ciphertext36);evaluator.add_inplace(ciphertext29,ciphertext41);evaluator.multiply_plain_inplace(ciphertext29,plaintext8);evaluator.rotate_rows_inplace(ciphertext29,0, galois_keys);ufhe::Ciphertext ciphertext107 = ciphertext29;
evaluator.add_inplace(ciphertext107,ciphertext106);evaluator.add_inplace(ciphertext107,ciphertext104);ufhe::Ciphertext output0 = ciphertext107;
encrypted_outputs.insert({"output4",output4});
encrypted_outputs.insert({"output3",output3});
encrypted_outputs.insert({"output2",output2});
encrypted_outputs.insert({"output1",output1});
encrypted_outputs.insert({"output0",output0});
}
